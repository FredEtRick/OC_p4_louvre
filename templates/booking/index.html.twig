{% extends 'base.html.twig' %}

{% block title %}nouvelle réservation{% endblock %}

{% form_theme form _self %}

{% block body %}

    <h1 class="h3 mb-5 text-center">
        Nouvelle réservation
    </h1>

    {{ form_start(form) }}

    {{ form_widget(form) }}

    {{ form_end(form) }}

{% endblock %}

{% block _reservation_persons_row %}

    {{ form_widget(form) }}

{% endblock %}

{% block _reservation_persons_widget %}

    <hr class="my-5">

    <h2 class="h4 mb-3 text-center">
        Visiteurs
    </h2>

    {{ form_widget(form) }}

    <div class="form-group mb-5">
        <button type="button" id="addPerson" class="btn btn-primary mt-4">
            Ajoutez un visiteur
        </button>
    </div>

{% endblock %}

{% block _reservation_persons_entry_row %}
    <div class="form-group" id="block_{{id}}">
        <hr class="my-5" id="hr_{{id}}">
        {{ form_widget(form) }}
        <button type="button" class="btn btn-danger" data-action="delete" data-target="#block_{{id}}">
            Supprimer le visiteur
        </button>
    </div>
{% endblock %}

{#
{% block date_errors %}
    {% if errors|length > 0 %}
        {% if compound %}
            {# ... display the global form errors # }
            <ul style="list-style : none; margin-bottom : 0px; margin-left : -20px;">
                {% for error in errors %}
                    <li>
                        <span style="font-variant : small-caps; background : red; border-radius : 5px; padding : 3px; padding-top : 0px;">
                            error
                        </span>

                        {#{{ error.message }}# }
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            {# ... display the errors for a single field # }
        {% endif %}
    {% endif %}
{% endblock %}
#}

{% block javascripts %}

    <script src="/js/addPerson.js"></script>

{% endblock %}